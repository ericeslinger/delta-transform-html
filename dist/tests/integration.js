'use strict';

var _chai = require('chai');

var _chai2 = _interopRequireDefault(_chai);

var _chaiAsPromised = require('chai-as-promised');

var _chaiAsPromised2 = _interopRequireDefault(_chaiAsPromised);

var _index = require('../index');

var transform = _interopRequireWildcard(_index);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

_chai2.default.use(_chaiAsPromised2.default); /* eslint-env node, mocha*/

var expect = _chai2.default.expect;

var testVal = {
  ops: [{ insert: 'multiline\nvalue' }, { insert: '\n' }, { insert: 'simple text' }, { insert: ' with a\n' }, { insert: '\nfollowing text\n\n' }, { insert: 'bulleted list one', attributes: { link: 'linkTarget' } }, { insert: '\n', attributes: { list: 'bullet' } }, { insert: 'bulleted list two' }, { insert: '\n', attributes: { list: 'bullet' } }, { insert: 'bulleted list three' }, { insert: '\n', attributes: { list: 'bullet' } }, { insert: 'numbered list one' }, { insert: '\n', attributes: { list: 'ordered' } }, { insert: 'numbered list two' }, { insert: '\n', attributes: { ordered: true } }, { insert: 'numbered list three' }, { insert: '\n', attributes: { list: 'ordered' } }, { insert: 'header two' }, { insert: '\n', attributes: { header: 2 } }, { insert: 'underlined header one', attributes: { underline: true } }, { insert: '\n', attributes: { header: 1 } }, { insert: 'red', attributes: { color: 'red' } }, { insert: 'bgred', attributes: { bg: 'red' } }, { insert: 'strikethru', attributes: { strike: true } }, { insert: '\n' }, { insert: { image: 'IMAGEURL' } }, { insert: 'escaped HTML & < > " \' &' }, { insert: '\n' }, { insert: 'empty newline should have nbsp (four after this)\n\n\n' }, { insert: '\n' }, { insert: '\n' }, { insert: 'old image style:' }, { insert: '1', attributes: { image: 'IMAGEURL' } }, { insert: '\n' }, { insert: 'going NUTS', attributes: {
      italic: true,
      bold: true,
      sub: true,
      super: true,
      bg: '#000000',
      color: '#ffffff',
      strike: true,
      underline: true
    } }, { insert: '\n' }, { insert: 'bold multiline\nvalue', attributes: { bold: true } }, { insert: 'italic value', attributes: { italic: true } }, { insert: 'bold-italic value', attributes: { bold: true, italic: true } }, { insert: '\n' }]
};

var integrationResultPlain = 'multiline\nvalue\nsimple text with a\n\nfollowing text\n\n* bulleted list one\n* bulleted list two\n* bulleted list three\n\n* numbered list one\n* numbered list two\n* numbered list three\n\nheader two\nunderlined header one\nredbgredstrikethru\nIMAGE: IMAGEURLescaped HTML & < > " \' &\nempty newline should have nbsp (four after this)\n\n\n\n\nold image style:IMAGE: IMAGEURL\ngoing NUTS\nbold multiline\nvalueitalic valuebold-italic value\n';

var integrationResultHTML = '<p>' + '<span>multiline</span>' + '</p>' + '<p>' + '<span>value</span>' + '</p>' + '<p>' + '<span>simple text with a</span>' + '</p>' + '<p>' + '<span>&nbsp;</span>' + '</p>' + '<p>' + '<span>following text</span>' + '</p>' + '<p>' + '<span>&nbsp;</span>' + '</p>' + '<ul>' + '<li>' + '<a target="_blank" href="linkTarget">' + '<span>bulleted list one</span>' + '</a>' + '</li>' + '<li>' + '<span>bulleted list two</span>' + '</li>' + '<li>' + '<span>bulleted list three</span>' + '</li>' + '</ul>' + '<ol>' + '<li>' + '<span>numbered list one</span>' + '</li>' + '<li>' + '<span>numbered list two</span>' + '</li>' + '<li>' + '<span>numbered list three</span>' + '</li>' + '</ol>' + '<h2>' + '<span>header two</span>' + '</h2>' + '<h1>' + '<u>' + '<span>underlined header one</span>' + '</u>' + '</h1>' + '<p>' + '<span style="color:red;">' + '<span>red</span>' + '</span>' + '<span style="background-color:red;">' + '<span>bgred</span>' + '</span>' + '<s>' + '<span>strikethru</span>' + '</s>' + '</p>' + '<p>' + '<img src="IMAGEURL">' + '<span>escaped HTML &amp; &lt; &gt; &quot; &#39; &amp;</span>' + '</p>' + '<p>' + '<span>empty newline should have nbsp (four after this)</span>' + '</p>' + '<p>' + '<span>&nbsp;</span>' + '</p>' + '<p>' + '<span>&nbsp;</span>' + '</p>' + '<p>' + '<span>&nbsp;</span>' + '</p>' + '<p>' + '<span>&nbsp;</span>' + '</p>' + '<p>' + '<span>old image style:</span>' + '<img src="IMAGEURL">' + '</p>' + '<p>' + '<sup>' + '<sub>' + '<s>' + '<span style="background-color:#000000;">' + '<span style="color:#ffffff;">' + '<u>' + '<em>' + '<strong>' + '<span>going NUTS</span>' + '</strong>' + '</em>' + '</u>' + '</span>' + '</span>' + '</s>' + '</sub>' + '</sup>' + '</p>' + '<p>' + '<strong>' + '<span>bold multiline</span>' + '</strong>' + '</p>' + '<p>' + '<strong>' + '<span>value</span>' + '</strong>' + '<em>' + '<span>italic value</span>' + '<strong>' + '<span>bold-italic value</span>' + '</strong>' + '</em>' + '</p>';

describe('integration', function () {
  it('synchronously output html that meets all specifications', function () {
    return expect(transform.transform(testVal)).to.equal(integrationResultHTML);
  });
  it('synchronously output plain text that meets all specifications', function () {
    return expect(transform.plainText(testVal)).to.equal(integrationResultPlain);
  });
  it('asynchronously output html that meets all specifications', function () {
    return expect(transform.transformAsync(testVal)).to.eventually.equal(integrationResultHTML);
  });
  it('asynchronously output plain text that meets all specifications', function () {
    return expect(transform.plainTextAsync(testVal)).to.eventually.equal(integrationResultPlain);
  });
});
//# sourceMappingURL=data:application/json;base64,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V0FwSDhCLEdBcUg5QixPQXJIOEIsR0FzSDlCLE1BdEg4Qjs7QUF3SDlCLFNBQVMsYUFBVCxFQUF3QixZQUFNO0FBQzVCLEtBQUcseURBQUgsRUFBOEQsWUFBTTtBQUNsRSxXQUFPLE9BQU8sVUFBVSxTQUFWLENBQW9CLE9BQXBCLENBQVAsRUFBcUMsRUFBckMsQ0FBd0MsS0FBeEMsQ0FBOEMscUJBQTlDLENBQVAsQ0FEa0U7R0FBTixDQUE5RCxDQUQ0QjtBQUk1QixLQUFHLCtEQUFILEVBQW9FLFlBQU07QUFDeEUsV0FBTyxPQUFPLFVBQVUsU0FBVixDQUFvQixPQUFwQixDQUFQLEVBQXFDLEVBQXJDLENBQXdDLEtBQXhDLENBQThDLHNCQUE5QyxDQUFQLENBRHdFO0dBQU4sQ0FBcEUsQ0FKNEI7QUFPNUIsS0FBRywwREFBSCxFQUErRCxZQUFNO0FBQ25FLFdBQU8sT0FBTyxVQUFVLGNBQVYsQ0FBeUIsT0FBekIsQ0FBUCxFQUEwQyxFQUExQyxDQUE2QyxVQUE3QyxDQUF3RCxLQUF4RCxDQUE4RCxxQkFBOUQsQ0FBUCxDQURtRTtHQUFOLENBQS9ELENBUDRCO0FBVTVCLEtBQUcsZ0VBQUgsRUFBcUUsWUFBTTtBQUN6RSxXQUFPLE9BQU8sVUFBVSxjQUFWLENBQXlCLE9BQXpCLENBQVAsRUFBMEMsRUFBMUMsQ0FBNkMsVUFBN0MsQ0FBd0QsS0FBeEQsQ0FBOEQsc0JBQTlELENBQVAsQ0FEeUU7R0FBTixDQUFyRSxDQVY0QjtDQUFOLENBQXhCIiwiZmlsZSI6InRlc3RzL2ludGVncmF0aW9uLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWVudiBub2RlLCBtb2NoYSovXG5cbmltcG9ydCBjaGFpIGZyb20gJ2NoYWknO1xuaW1wb3J0IGNoYWlBc1Byb21pc2VkIGZyb20gJ2NoYWktYXMtcHJvbWlzZWQnO1xuaW1wb3J0ICogYXMgdHJhbnNmb3JtIGZyb20gJy4uL2luZGV4JztcblxuY2hhaS51c2UoY2hhaUFzUHJvbWlzZWQpO1xuY29uc3QgZXhwZWN0ID0gY2hhaS5leHBlY3Q7XG5cbmNvbnN0IHRlc3RWYWwgPSB7XG4gIG9wczogW1xuICAgIHtpbnNlcnQ6ICdtdWx0aWxpbmVcXG52YWx1ZSd9LFxuICAgIHtpbnNlcnQ6ICdcXG4nfSxcbiAgICB7aW5zZXJ0OiAnc2ltcGxlIHRleHQnfSxcbiAgICB7aW5zZXJ0OiAnIHdpdGggYVxcbid9LFxuICAgIHtpbnNlcnQ6ICdcXG5mb2xsb3dpbmcgdGV4dFxcblxcbid9LFxuICAgIHtpbnNlcnQ6ICdidWxsZXRlZCBsaXN0IG9uZScsIGF0dHJpYnV0ZXM6IHtsaW5rOiAnbGlua1RhcmdldCd9fSxcbiAgICB7aW5zZXJ0OiAnXFxuJywgYXR0cmlidXRlczoge2xpc3Q6ICdidWxsZXQnfX0sXG4gICAge2luc2VydDogJ2J1bGxldGVkIGxpc3QgdHdvJ30sXG4gICAge2luc2VydDogJ1xcbicsIGF0dHJpYnV0ZXM6IHtsaXN0OiAnYnVsbGV0J319LFxuICAgIHtpbnNlcnQ6ICdidWxsZXRlZCBsaXN0IHRocmVlJ30sXG4gICAge2luc2VydDogJ1xcbicsIGF0dHJpYnV0ZXM6IHtsaXN0OiAnYnVsbGV0J319LFxuICAgIHtpbnNlcnQ6ICdudW1iZXJlZCBsaXN0IG9uZSd9LFxuICAgIHtpbnNlcnQ6ICdcXG4nLCBhdHRyaWJ1dGVzOiB7bGlzdDogJ29yZGVyZWQnfX0sXG4gICAge2luc2VydDogJ251bWJlcmVkIGxpc3QgdHdvJ30sXG4gICAge2luc2VydDogJ1xcbicsIGF0dHJpYnV0ZXM6IHtvcmRlcmVkOiB0cnVlfX0sXG4gICAge2luc2VydDogJ251bWJlcmVkIGxpc3QgdGhyZWUnfSxcbiAgICB7aW5zZXJ0OiAnXFxuJywgYXR0cmlidXRlczoge2xpc3Q6ICdvcmRlcmVkJ319LFxuICAgIHtpbnNlcnQ6ICdoZWFkZXIgdHdvJ30sXG4gICAge2luc2VydDogJ1xcbicsIGF0dHJpYnV0ZXM6IHtoZWFkZXI6IDJ9fSxcbiAgICB7aW5zZXJ0OiAndW5kZXJsaW5lZCBoZWFkZXIgb25lJywgYXR0cmlidXRlczoge3VuZGVybGluZTogdHJ1ZX19LFxuICAgIHtpbnNlcnQ6ICdcXG4nLCBhdHRyaWJ1dGVzOiB7aGVhZGVyOiAxfX0sXG4gICAge2luc2VydDogJ3JlZCcsIGF0dHJpYnV0ZXM6IHtjb2xvcjogJ3JlZCd9fSxcbiAgICB7aW5zZXJ0OiAnYmdyZWQnLCBhdHRyaWJ1dGVzOiB7Ymc6ICdyZWQnfX0sXG4gICAge2luc2VydDogJ3N0cmlrZXRocnUnLCBhdHRyaWJ1dGVzOiB7c3RyaWtlOiB0cnVlfX0sXG4gICAge2luc2VydDogJ1xcbid9LFxuICAgIHtpbnNlcnQ6IHtpbWFnZTogJ0lNQUdFVVJMJ319LFxuICAgIHtpbnNlcnQ6ICdlc2NhcGVkIEhUTUwgJiA8ID4gXCIgXFwnICYnfSxcbiAgICB7aW5zZXJ0OiAnXFxuJ30sXG4gICAge2luc2VydDogJ2VtcHR5IG5ld2xpbmUgc2hvdWxkIGhhdmUgbmJzcCAoZm91ciBhZnRlciB0aGlzKVxcblxcblxcbid9LFxuICAgIHtpbnNlcnQ6ICdcXG4nfSxcbiAgICB7aW5zZXJ0OiAnXFxuJ30sXG4gICAge2luc2VydDogJ29sZCBpbWFnZSBzdHlsZTonfSxcbiAgICB7aW5zZXJ0OiAnMScsIGF0dHJpYnV0ZXM6IHtpbWFnZTogJ0lNQUdFVVJMJ319LFxuICAgIHtpbnNlcnQ6ICdcXG4nfSxcbiAgICB7aW5zZXJ0OiAnZ29pbmcgTlVUUycsIGF0dHJpYnV0ZXM6IHtcbiAgICAgIGl0YWxpYzogdHJ1ZSxcbiAgICAgIGJvbGQ6IHRydWUsXG4gICAgICBzdWI6IHRydWUsXG4gICAgICBzdXBlcjogdHJ1ZSxcbiAgICAgIGJnOiAnIzAwMDAwMCcsXG4gICAgICBjb2xvcjogJyNmZmZmZmYnLFxuICAgICAgc3RyaWtlOiB0cnVlLFxuICAgICAgdW5kZXJsaW5lOiB0cnVlLFxuICAgIH19LFxuICAgIHtpbnNlcnQ6ICdcXG4nfSxcbiAgICB7aW5zZXJ0OiAnYm9sZCBtdWx0aWxpbmVcXG52YWx1ZScsIGF0dHJpYnV0ZXM6IHtib2xkOiB0cnVlfX0sXG4gICAge2luc2VydDogJ2l0YWxpYyB2YWx1ZScsIGF0dHJpYnV0ZXM6IHtpdGFsaWM6IHRydWV9fSxcbiAgICB7aW5zZXJ0OiAnYm9sZC1pdGFsaWMgdmFsdWUnLCBhdHRyaWJ1dGVzOiB7Ym9sZDogdHJ1ZSwgaXRhbGljOiB0cnVlfX0sXG4gICAge2luc2VydDogJ1xcbid9LFxuICBdLFxufTtcblxuY29uc3QgaW50ZWdyYXRpb25SZXN1bHRQbGFpbiA9IGBtdWx0aWxpbmVcbnZhbHVlXG5zaW1wbGUgdGV4dCB3aXRoIGFcblxuZm9sbG93aW5nIHRleHRcblxuKiBidWxsZXRlZCBsaXN0IG9uZVxuKiBidWxsZXRlZCBsaXN0IHR3b1xuKiBidWxsZXRlZCBsaXN0IHRocmVlXG5cbiogbnVtYmVyZWQgbGlzdCBvbmVcbiogbnVtYmVyZWQgbGlzdCB0d29cbiogbnVtYmVyZWQgbGlzdCB0aHJlZVxuXG5oZWFkZXIgdHdvXG51bmRlcmxpbmVkIGhlYWRlciBvbmVcbnJlZGJncmVkc3RyaWtldGhydVxuSU1BR0U6IElNQUdFVVJMZXNjYXBlZCBIVE1MICYgPCA+IFwiICcgJlxuZW1wdHkgbmV3bGluZSBzaG91bGQgaGF2ZSBuYnNwIChmb3VyIGFmdGVyIHRoaXMpXG5cblxuXG5cbm9sZCBpbWFnZSBzdHlsZTpJTUFHRTogSU1BR0VVUkxcbmdvaW5nIE5VVFNcbmJvbGQgbXVsdGlsaW5lXG52YWx1ZWl0YWxpYyB2YWx1ZWJvbGQtaXRhbGljIHZhbHVlXG5gO1xuXG5jb25zdCBpbnRlZ3JhdGlvblJlc3VsdEhUTUwgPSAnPHA+JyArXG4nPHNwYW4+bXVsdGlsaW5lPC9zcGFuPicgK1xuJzwvcD4nICtcbic8cD4nICtcbic8c3Bhbj52YWx1ZTwvc3Bhbj4nICtcbic8L3A+JyArXG4nPHA+JyArXG4nPHNwYW4+c2ltcGxlIHRleHQgd2l0aCBhPC9zcGFuPicgK1xuJzwvcD4nICtcbic8cD4nICtcbic8c3Bhbj4mbmJzcDs8L3NwYW4+JyArXG4nPC9wPicgK1xuJzxwPicgK1xuJzxzcGFuPmZvbGxvd2luZyB0ZXh0PC9zcGFuPicgK1xuJzwvcD4nICtcbic8cD4nICtcbic8c3Bhbj4mbmJzcDs8L3NwYW4+JyArXG4nPC9wPicgK1xuJzx1bD4nICtcbic8bGk+JyArXG4nPGEgdGFyZ2V0PVwiX2JsYW5rXCIgaHJlZj1cImxpbmtUYXJnZXRcIj4nICtcbic8c3Bhbj5idWxsZXRlZCBsaXN0IG9uZTwvc3Bhbj4nICtcbic8L2E+JyArXG4nPC9saT4nICtcbic8bGk+JyArXG4nPHNwYW4+YnVsbGV0ZWQgbGlzdCB0d288L3NwYW4+JyArXG4nPC9saT4nICtcbic8bGk+JyArXG4nPHNwYW4+YnVsbGV0ZWQgbGlzdCB0aHJlZTwvc3Bhbj4nICtcbic8L2xpPicgK1xuJzwvdWw+JyArXG4nPG9sPicgK1xuJzxsaT4nICtcbic8c3Bhbj5udW1iZXJlZCBsaXN0IG9uZTwvc3Bhbj4nICtcbic8L2xpPicgK1xuJzxsaT4nICtcbic8c3Bhbj5udW1iZXJlZCBsaXN0IHR3bzwvc3Bhbj4nICtcbic8L2xpPicgK1xuJzxsaT4nICtcbic8c3Bhbj5udW1iZXJlZCBsaXN0IHRocmVlPC9zcGFuPicgK1xuJzwvbGk+JyArXG4nPC9vbD4nICtcbic8aDI+JyArXG4nPHNwYW4+aGVhZGVyIHR3bzwvc3Bhbj4nICtcbic8L2gyPicgK1xuJzxoMT4nICtcbic8dT4nICtcbic8c3Bhbj51bmRlcmxpbmVkIGhlYWRlciBvbmU8L3NwYW4+JyArXG4nPC91PicgK1xuJzwvaDE+JyArXG4nPHA+JyArXG4nPHNwYW4gc3R5bGU9XCJjb2xvcjpyZWQ7XCI+JyArXG4nPHNwYW4+cmVkPC9zcGFuPicgK1xuJzwvc3Bhbj4nICtcbic8c3BhbiBzdHlsZT1cImJhY2tncm91bmQtY29sb3I6cmVkO1wiPicgK1xuJzxzcGFuPmJncmVkPC9zcGFuPicgK1xuJzwvc3Bhbj4nICtcbic8cz4nICtcbic8c3Bhbj5zdHJpa2V0aHJ1PC9zcGFuPicgK1xuJzwvcz4nICtcbic8L3A+JyArXG4nPHA+JyArXG4nPGltZyBzcmM9XCJJTUFHRVVSTFwiPicgK1xuJzxzcGFuPmVzY2FwZWQgSFRNTCAmYW1wOyAmbHQ7ICZndDsgJnF1b3Q7ICYjMzk7ICZhbXA7PC9zcGFuPicgK1xuJzwvcD4nICtcbic8cD4nICtcbic8c3Bhbj5lbXB0eSBuZXdsaW5lIHNob3VsZCBoYXZlIG5ic3AgKGZvdXIgYWZ0ZXIgdGhpcyk8L3NwYW4+JyArXG4nPC9wPicgK1xuJzxwPicgK1xuJzxzcGFuPiZuYnNwOzwvc3Bhbj4nICtcbic8L3A+JyArXG4nPHA+JyArXG4nPHNwYW4+Jm5ic3A7PC9zcGFuPicgK1xuJzwvcD4nICtcbic8cD4nICtcbic8c3Bhbj4mbmJzcDs8L3NwYW4+JyArXG4nPC9wPicgK1xuJzxwPicgK1xuJzxzcGFuPiZuYnNwOzwvc3Bhbj4nICtcbic8L3A+JyArXG4nPHA+JyArXG4nPHNwYW4+b2xkIGltYWdlIHN0eWxlOjwvc3Bhbj4nICtcbic8aW1nIHNyYz1cIklNQUdFVVJMXCI+JyArXG4nPC9wPicgK1xuJzxwPicgK1xuJzxzdXA+JyArXG4nPHN1Yj4nICtcbic8cz4nICtcbic8c3BhbiBzdHlsZT1cImJhY2tncm91bmQtY29sb3I6IzAwMDAwMDtcIj4nICtcbic8c3BhbiBzdHlsZT1cImNvbG9yOiNmZmZmZmY7XCI+JyArXG4nPHU+JyArXG4nPGVtPicgK1xuJzxzdHJvbmc+JyArXG4nPHNwYW4+Z29pbmcgTlVUUzwvc3Bhbj4nICtcbic8L3N0cm9uZz4nICtcbic8L2VtPicgK1xuJzwvdT4nICtcbic8L3NwYW4+JyArXG4nPC9zcGFuPicgK1xuJzwvcz4nICtcbic8L3N1Yj4nICtcbic8L3N1cD4nICtcbic8L3A+JyArXG4nPHA+JyArXG4nPHN0cm9uZz4nICtcbic8c3Bhbj5ib2xkIG11bHRpbGluZTwvc3Bhbj4nICtcbic8L3N0cm9uZz4nICtcbic8L3A+JyArXG4nPHA+JyArXG4nPHN0cm9uZz4nICtcbic8c3Bhbj52YWx1ZTwvc3Bhbj4nICtcbic8L3N0cm9uZz4nICtcbic8ZW0+JyArXG4nPHNwYW4+aXRhbGljIHZhbHVlPC9zcGFuPicgK1xuJzxzdHJvbmc+JyArXG4nPHNwYW4+Ym9sZC1pdGFsaWMgdmFsdWU8L3NwYW4+JyArXG4nPC9zdHJvbmc+JyArXG4nPC9lbT4nICtcbic8L3A+JztcblxuZGVzY3JpYmUoJ2ludGVncmF0aW9uJywgKCkgPT4ge1xuICBpdCgnc3luY2hyb25vdXNseSBvdXRwdXQgaHRtbCB0aGF0IG1lZXRzIGFsbCBzcGVjaWZpY2F0aW9ucycsICgpID0+IHtcbiAgICByZXR1cm4gZXhwZWN0KHRyYW5zZm9ybS50cmFuc2Zvcm0odGVzdFZhbCkpLnRvLmVxdWFsKGludGVncmF0aW9uUmVzdWx0SFRNTCk7XG4gIH0pO1xuICBpdCgnc3luY2hyb25vdXNseSBvdXRwdXQgcGxhaW4gdGV4dCB0aGF0IG1lZXRzIGFsbCBzcGVjaWZpY2F0aW9ucycsICgpID0+IHtcbiAgICByZXR1cm4gZXhwZWN0KHRyYW5zZm9ybS5wbGFpblRleHQodGVzdFZhbCkpLnRvLmVxdWFsKGludGVncmF0aW9uUmVzdWx0UGxhaW4pO1xuICB9KTtcbiAgaXQoJ2FzeW5jaHJvbm91c2x5IG91dHB1dCBodG1sIHRoYXQgbWVldHMgYWxsIHNwZWNpZmljYXRpb25zJywgKCkgPT4ge1xuICAgIHJldHVybiBleHBlY3QodHJhbnNmb3JtLnRyYW5zZm9ybUFzeW5jKHRlc3RWYWwpKS50by5ldmVudHVhbGx5LmVxdWFsKGludGVncmF0aW9uUmVzdWx0SFRNTCk7XG4gIH0pO1xuICBpdCgnYXN5bmNocm9ub3VzbHkgb3V0cHV0IHBsYWluIHRleHQgdGhhdCBtZWV0cyBhbGwgc3BlY2lmaWNhdGlvbnMnLCAoKSA9PiB7XG4gICAgcmV0dXJuIGV4cGVjdCh0cmFuc2Zvcm0ucGxhaW5UZXh0QXN5bmModGVzdFZhbCkpLnRvLmV2ZW50dWFsbHkuZXF1YWwoaW50ZWdyYXRpb25SZXN1bHRQbGFpbik7XG4gIH0pO1xufSk7XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
